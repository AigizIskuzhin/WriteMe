@using Website.ViewModels.Friends
@model Website.ViewModels.ProfileViewModel
@{
    var queryId = Context.Request.Query["id"].ToString();
    string profileId = String.IsNullOrWhiteSpace(queryId) ? User.Claims.First(claim => claim.Type.Equals("id")).Value : queryId;
}
<link rel="stylesheet" href="~/Resources/css/profile.css" />
<link rel="stylesheet" href="~/Resources/css/post.css" />
<script src="Resources/js/profile.js"></script>

@*<div style="background: white; height: 70px; z-index: 11; width: inherit; position: fixed;"></div>*@
<div id="user_profile" class="user_profile">
        <div id="profile_logo" class="profile_logo">
            @if (Model.IsOwner)
            {
                <div id="upload_btn" class="upload_btn ui_control_item" style="background-color: #e3e3e3" onclick="Ava()">
                    <svg xmlns="http://www.w3.org/2000/svg" style="width:24px; margin: auto; fill: gray;" viewBox="0 0 24 24"><path d="M 12 2 A 1 1 0 0 0 11.292969 2.2949219 L 6.1601562 7.1347656 A 0.5 0.5 0 0 0 6.1484375 7.1445312 L 6.1464844 7.1464844 A 0.5 0.5 0 0 0 6 7.5 A 0.5 0.5 0 0 0 6.5 8 L 10 8 L 10 16 C 10 16.552 10.448 17 11 17 L 12 17 L 13 17 C 13.552 17 14 16.552 14 16 L 14 8 L 17.5 8 A 0.5 0.5 0 0 0 18 7.5 A 0.5 0.5 0 0 0 17.853516 7.1464844 L 17.822266 7.1171875 L 12.716797 2.3027344 A 1 1 0 0 0 12.683594 2.2714844 A 1 1 0 0 0 12 2 z M 3 20 A 1.0001 1.0001 0 1 0 3 22 L 21 22 A 1.0001 1.0001 0 1 0 21 20 L 3 20 z"></path></svg>
                </div>
            }
            @if (string.IsNullOrWhiteSpace(Model.User.AvatarPath))
            {
                <svg class="profile_img" style="fill:gray" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30">
                    <path d="M 15 3 C 11.686 3 9 5.686 9 9 L 9 10 C 9 13.314 11.686 16 15 16 C 18.314 16 21 13.314 21 10 L 21 9 C 21 5.686 18.314 3 15 3 z M 14.998047 19 C 10.992047 19 5.8520469 21.166844 4.3730469 23.089844 C 3.4590469 24.278844 4.329125 26 5.828125 26 L 24.169922 26 C 25.668922 26 26.539 24.278844 25.625 23.089844 C 24.146 21.167844 19.004047 19 14.998047 19 z">
                    </path>
                </svg>
            }
            else
            {
                <img class="profile_img" src="@Model.User.AvatarPath"/>
            }
            @*<img id="profile_img" class="profile_img" src="~/Resources/images/photo_2021-09-18_02-12-12.jpg">*@
        </div>
    <div class="profile_description">
        <div class="profile_title">
            <div class="profile_name">
                @Model.FullName
            </div>
            <div id="profile_quick_btns" class="profile_quick_btns profile_quick_btns-collapsed">
                <div class="profile_btn" onmousemove="ExpandBtn(this)" onmouseleave="CollapseBtn(this)">
                    <svg class="btn_logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"> <path d="M 4 4 C 2.897 4 2 4.897 2 6 L 2 18 C 2 19.103 2.897 20 4 20 L 12 20 L 12 18 L 4 18 L 4 8.0039062 L 12 13 L 20 8.0058594 L 20.001953 12.171875 L 22 14.171875 L 22 6 C 22 4.897 21.103 4 20 4 L 4 4 z M 4 6 L 20 6 L 20 6.0058594 L 12 11 L 4 6.0039062 L 4 6 z M 20 15 L 20 18 L 14 18 L 14 20 L 20 20 L 20 23 L 24 19 L 20 15 z"></path></svg>
                    <div class="btn_title">
                        <p style="height: 100%; margin: 0%; display: flex; align-items: center;">Отправить сообщение</p>
                    </div>
                </div>
                <div class="profile_btn" onmousemove="ExpandBtn(this)" onmouseleave="CollapseBtn(this)">
                    <svg class="btn_logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"> <path d="M 4 4 C 2.897 4 2 4.897 2 6 L 2 18 C 2 19.103 2.897 20 4 20 L 12 20 L 12 18 L 4 18 L 4 8.0039062 L 12 13 L 20 8.0058594 L 20.001953 12.171875 L 22 14.171875 L 22 6 C 22 4.897 21.103 4 20 4 L 4 4 z M 4 6 L 20 6 L 20 6.0058594 L 12 11 L 4 6.0039062 L 4 6 z M 20 15 L 20 18 L 14 18 L 14 20 L 20 20 L 20 23 L 24 19 L 20 15 z"></path></svg>
                    <div class="btn_title">
                        <p style="height: 100%; margin: 0%; display: flex; align-items: center;">Отправить сообщение</p>
                    </div>
                </div>
                <div class="profile_btn" onclick="ScrollUp()" onmousemove="ExpandBtn(this)" onmouseleave="CollapseBtn(this)">
                    <svg class="btn_logo" style="transform: rotateX(180grad);" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"> <path d="M12,14.071L8.179,10.25c-0.414-0.414-1.086-0.414-1.5,0l0,0c-0.414,0.414-0.414,1.086,0,1.5l4.614,4.614 c0.391,0.391,1.024,0.391,1.414,0l4.614-4.614c0.414-0.414,0.414-1.086,0-1.5v0c-0.414-0.414-1.086-0.414-1.5,0L12,14.071z"></path></svg>
                    <div class="btn_title">
                        <p style="height: 100%; margin: 0%; display: flex; align-items: center;">Подняться</p>
                    </div>
                </div>
            </div>
        </div>
        <div id="profile_info" class="profile_info">
            <div class="day" style="margin-bottom: 10px">
                <span class="del">Личные данные</span>
            </div>
            <div style="display: flex; gap: 20px; margin-bottom: 10px;">
                <div style="width: 50%; display: flex; flex-direction: column; gap: 10px;">
                    <div class="profile_info_row">
                        <svg xmlns="http://www.w3.org/2000/svg" style="width: 24px;" viewBox="0 0 32 32">
                            <path d="M 9 4 L 9 5 L 5 5 L 5 27 L 15 27 L 15 25 L 7 25 L 7 11 L 25 11 L 25 13.191406 L 25.376953 13.548828 C 25.850953 13.997828 26.477 14.65525 27 15.40625 L 27 5 L 23 5 L 23 4 L 21 4 L 21 5 L 11 5 L 11 4 L 9 4 z M 7 7 L 9 7 L 9 8 L 11 8 L 11 7 L 21 7 L 21 8 L 23 8 L 23 7 L 25 7 L 25 9 L 7 9 L 7 7 z M 13 13 L 13 15 L 15 15 L 15 13 L 13 13 z M 17 13 L 17 15 L 19 15 L 19 13 L 17 13 z M 24 15 C 24 15 22 16.895 22 18 C 22 18.738946 22.404366 19.376387 23 19.722656 L 23 21 L 19.992188 21 C 18.351678 21 16.998148 22.34732 16.992188 23.988281 L 16.992188 23.990234 L 16.998047 30 L 16 30 L 16 32 L 32 32 L 32 30 L 31 30 L 31 24 C 31 22.35503 29.64497 21 28 21 L 25 21 L 25 19.722656 C 25.595634 19.376387 26 18.738946 26 18 C 26 16.895 24 15 24 15 z M 9 17 L 9 19 L 11 19 L 11 17 L 9 17 z M 13 17 L 13 19 L 15 19 L 15 17 L 13 17 z M 17 17 L 17 19 L 19 19 L 19 17 L 17 17 z M 9 21 L 9 23 L 11 23 L 11 21 L 9 21 z M 13 21 L 13 23 L 15 23 L 15 21 L 13 21 z M 19.992188 23 L 28 23 C 28.56503 23 29 23.43497 29 24 L 29 25 C 29 25.56503 28.56503 26 28 26 C 27.43497 26 27 25.56503 27 25 L 25 25 C 25 25.56503 24.56503 26 24 26 C 23.43497 26 23 25.56503 23 25 L 21 25 C 21 25.56503 20.56503 26 20 26 C 19.43497 26 19 25.56503 19 25 L 18.994141 25 L 18.992188 23.996094 C 18.994214 23.435049 19.430697 23 19.992188 23 z M 22 27.166016 C 22.535366 27.65838 23.223035 28 24 28 C 24.776965 28 25.464634 27.65838 26 27.166016 C 26.535366 27.65838 27.223035 28 28 28 C 28.351843 28 28.685108 27.92606 29 27.8125 L 29 30 L 18.998047 30 L 18.996094 27.8125 C 19.311974 27.926863 19.646855 28 20 28 C 20.776965 28 21.464634 27.65838 22 27.166016 z"/>
                        </svg>
                        <span style="margin-left: 4px;">День рождения:</span>
                        <span style="margin-left: auto; margin-right: 0">@Model.User.Birthday.ToString("MM.dd.yyyy")</span>
                    </div>
                    <div class="profile_info_row">
                        <svg xmlns="http://www.w3.org/2000/svg" style="width: 24px;" viewBox="0 0 80 80">
                            <path d="M 24 5 C 22.906937 5 22 5.9069372 22 7 L 22 10 L 15 10 C 12.250484 10 10 12.250484 10 15 L 10 65 C 10 67.749516 12.250484 70 15 70 L 65 70 C 67.749516 70 70 67.749516 70 65 L 70 15 C 70 12.250484 67.749516 10 65 10 L 58 10 L 58 7 C 58 5.9069372 57.093063 5 56 5 L 54 5 C 52.906937 5 52 5.9069372 52 7 L 52 10 L 28 10 L 28 7 C 28 5.9069372 27.093063 5 26 5 L 24 5 z M 24 7 L 26 7 L 26 15 L 24 15 L 24 7 z M 54 7 L 56 7 L 56 15 L 54 15 L 54 7 z M 15 12 L 22 12 L 22 15 C 22 16.093063 22.906937 17 24 17 L 26 17 C 27.093063 17 28 16.093063 28 15 L 28 12 L 52 12 L 52 15 C 52 16.093063 52.906937 17 54 17 L 56 17 C 57.093063 17 58 16.093063 58 15 L 58 12 L 65 12 C 66.668484 12 68 13.331516 68 15 L 68 22 L 12 22 L 12 15 C 12 13.331516 13.331516 12 15 12 z M 12 24 L 68 24 L 68 65 C 68 66.668484 66.668484 68 65 68 L 15 68 C 13.331516 68 12 66.668484 12 65 L 12 24 z M 40 32.5 L 32 40.5 L 48 40.5 L 40 32.5 z M 32 44.5 L 40 52.5 L 48 44.5 L 32 44.5 z M 16 62 A 1 1 0 0 0 15 63 A 1 1 0 0 0 16 64 A 1 1 0 0 0 17 63 A 1 1 0 0 0 16 62 z M 20 62 A 1 1 0 0 0 19 63 A 1 1 0 0 0 20 64 A 1 1 0 0 0 21 63 A 1 1 0 0 0 20 62 z M 24 62 A 1 1 0 0 0 23 63 A 1 1 0 0 0 24 64 A 1 1 0 0 0 25 63 A 1 1 0 0 0 24 62 z M 28 62 A 1 1 0 0 0 27 63 A 1 1 0 0 0 28 64 A 1 1 0 0 0 29 63 A 1 1 0 0 0 28 62 z M 32 62 A 1 1 0 0 0 31 63 A 1 1 0 0 0 32 64 A 1 1 0 0 0 33 63 A 1 1 0 0 0 32 62 z M 36 62 A 1 1 0 0 0 35 63 A 1 1 0 0 0 36 64 A 1 1 0 0 0 37 63 A 1 1 0 0 0 36 62 z M 40 62 A 1 1 0 0 0 39 63 A 1 1 0 0 0 40 64 A 1 1 0 0 0 41 63 A 1 1 0 0 0 40 62 z M 44 62 A 1 1 0 0 0 43 63 A 1 1 0 0 0 44 64 A 1 1 0 0 0 45 63 A 1 1 0 0 0 44 62 z M 48 62 A 1 1 0 0 0 47 63 A 1 1 0 0 0 48 64 A 1 1 0 0 0 49 63 A 1 1 0 0 0 48 62 z M 52 62 A 1 1 0 0 0 51 63 A 1 1 0 0 0 52 64 A 1 1 0 0 0 53 63 A 1 1 0 0 0 52 62 z M 56 62 A 1 1 0 0 0 55 63 A 1 1 0 0 0 56 64 A 1 1 0 0 0 57 63 A 1 1 0 0 0 56 62 z M 60 62 A 1 1 0 0 0 59 63 A 1 1 0 0 0 60 64 A 1 1 0 0 0 61 63 A 1 1 0 0 0 60 62 z M 64 62 A 1 1 0 0 0 63 63 A 1 1 0 0 0 64 64 A 1 1 0 0 0 65 63 A 1 1 0 0 0 64 62 z"/>
                        </svg>
                        <span style="margin-left: 4px;">Возраст:</span>
                        <span style="margin-left: auto; margin-right: 0">@Model.UserAge</span>
                    </div>
                </div>
                <div style="width: 50%; display: flex; flex-direction: column; gap: 10px;">
                    <div class="profile_info_row">
                        <svg xmlns="http://www.w3.org/2000/svg" style="width: 24px;" viewBox="0 0 50 50">
                            <path d="M 25 1 C 19.826258 1 15.553148 4.9577095 15.048828 10 C 14.003472 9.995111 13.160468 9.9241417 12.310547 10.390625 C 11.871842 10.63141 11.502031 11.070523 11.318359 11.554688 C 11.134688 12.038851 11.082031 12.557113 11.082031 13.167969 A 1.0001 1.0001 0 0 0 11.189453 13.617188 C 11.664066 14.560346 11.833149 15.513446 11.792969 16.095703 C 11.776679 16.33184 11.728236 16.437129 11.697266 16.507812 C 10.419582 16.096917 9.104111 16.201936 8.0820312 16.560547 C 7.4900056 16.76827 6.9908899 17.021252 6.59375 17.324219 C 6.3951801 17.475702 6.2172596 17.627567 6.0527344 17.898438 C 5.9704714 18.033873 5.8838519 18.209173 5.8632812 18.460938 C 5.8594912 18.507268 5.9047631 18.558778 5.9082031 18.609375 C 5.9011631 18.626745 5.9073859 18.612174 5.8867188 18.652344 C 5.8040454 18.81313 5.6239885 19.10248 5.390625 19.443359 C 4.923898 20.125118 4.2408367 21.036404 3.5605469 21.966797 C 2.880257 22.89719 2.202589 23.843691 1.7128906 24.669922 C 1.4680414 25.083037 1.2689389 25.458805 1.1347656 25.847656 C 1.0005924 26.236507 0.80015666 26.7639 1.2617188 27.375 A 1.0001 1.0001 0 0 0 1.6757812 27.697266 C 3.5958635 28.491807 4.6003728 29.335834 5.1640625 30.123047 C 5.7277522 30.91026 5.8963563 31.682699 5.9785156 32.533203 C 6.0606746 33.383707 6.0040396 34.287372 6.296875 35.244141 C 6.5823799 36.176958 7.3821228 37.073542 8.6386719 37.492188 C 8.7841798 37.553627 8.9406109 37.713521 9.0859375 38.109375 C 9.2312641 38.505229 9.3182293 39.076316 9.34375 39.644531 C 9.394791 40.780961 9.2265625 41.863281 9.2265625 41.863281 A 1.0001 1.0001 0 0 0 9.484375 42.703125 C 9.484375 42.703125 10.421732 43.7038 11.445312 44.662109 C 11.957104 45.141264 12.485214 45.610038 12.976562 45.964844 C 13.222238 46.142247 13.450329 46.293967 13.730469 46.412109 C 13.870539 46.471179 14.025539 46.525859 14.246094 46.542969 C 14.466649 46.560079 14.801273 46.519749 15.082031 46.298828 C 14.774616 46.540575 14.832438 46.402324 15.037109 46.410156 C 15.242417 46.418056 15.579602 46.460696 15.974609 46.535156 C 16.764624 46.684077 17.800643 46.948018 18.830078 47.216797 C 19.859514 47.485576 20.881151 47.758598 21.708984 47.931641 C 22.122901 48.018161 22.481501 48.083451 22.822266 48.103516 C 22.992648 48.113546 23.157096 48.117442 23.371094 48.076172 C 23.585091 48.034902 23.956219 47.942165 24.203125 47.503906 A 1.0001 1.0001 0 0 0 24.203125 47.501953 C 24.433163 47.091824 24.795041 46.311082 25.316406 45.464844 C 25.80307 44.67493 26.420558 43.984129 26.824219 43.712891 C 26.861729 43.721591 26.868656 43.718792 26.916016 43.732422 C 27.194808 43.812412 27.621215 43.975294 28.117188 44.191406 C 29.109133 44.623631 30.39705 45.270873 31.6875 45.945312 C 32.97795 46.619752 34.274541 47.32147 35.320312 47.873047 C 35.843199 48.148835 36.302031 48.385864 36.675781 48.568359 C 37.049532 48.750854 37.241738 48.872531 37.632812 48.960938 C 38.464213 49.148828 39.009488 48.809706 39.585938 48.482422 C 40.162386 48.155138 40.742574 47.724511 41.292969 47.283203 C 41.843364 46.841895 42.35796 46.390159 42.759766 46.029297 C 43.161571 45.668435 43.533018 45.337662 43.490234 45.371094 C 43.739011 45.176766 43.869949 44.861639 43.896484 44.652344 C 43.923014 44.443049 43.894087 44.306862 43.867188 44.197266 C 43.813378 43.978072 43.743707 43.846453 43.669922 43.705078 C 43.522352 43.422328 43.340113 43.141386 43.150391 42.84375 C 42.806725 42.30461 42.490679 41.701195 42.414062 41.515625 C 42.414062 41.515625 42.414062 41.513672 42.414062 41.513672 C 42.424464 41.440595 42.443146 41.288026 42.505859 41.123047 C 42.631879 40.791526 42.846939 40.327672 43.117188 39.798828 C 43.657683 38.741141 44.419058 37.410963 45.177734 36.099609 C 45.936411 34.788256 46.691663 33.496535 47.240234 32.46875 C 47.51452 31.954858 47.737296 31.513252 47.892578 31.128906 C 47.970218 30.936733 48.03246 30.764429 48.074219 30.552734 C 48.115979 30.34104 48.263289 30.000236 47.841797 29.501953 A 1.0001 1.0001 0 0 0 47.496094 29.240234 C 46.088281 28.592472 45.238287 26.884672 44.806641 25.158203 C 44.590818 24.294969 44.479786 23.454511 44.427734 22.818359 C 44.405704 22.549147 44.397928 22.343054 44.392578 22.162109 C 44.413338 22.151539 44.41509 22.149632 44.4375 22.138672 C 44.744543 21.988507 45.201377 21.79789 45.666016 21.607422 C 46.130654 21.416953 46.603776 21.226794 46.994141 21.050781 C 47.189323 20.962771 47.361178 20.880129 47.527344 20.783203 C 47.610424 20.734743 47.692267 20.684893 47.792969 20.601562 C 47.893431 20.518432 48.058586 20.435391 48.173828 20.041016 L 48.173828 20.039062 C 48.755415 18.045782 49.078618 16.574888 48.986328 15.316406 C 48.897398 14.103674 48.171757 13.073344 47.126953 12.583984 C 46.527865 12.157541 45.850525 12.067287 45.183594 12.085938 C 44.459175 12.106198 43.697315 12.243398 42.935547 12.412109 C 41.628468 12.701593 40.469722 13.01097 39.693359 13.148438 L 37.878906 10.443359 A 1.0001 1.0001 0 0 0 37.048828 10 L 34.949219 10 C 34.444947 4.9578516 30.174546 1 25 1 z M 25 3 C 29.431507 3 33 6.5714173 33 11 C 33 13.570964 30.873969 17.825203 28.660156 21.253906 C 26.833609 24.082822 25.589662 25.56995 25.005859 26.294922 C 24.424516 25.561175 23.172597 24.038929 21.341797 21.183594 C 19.126317 17.728307 17 13.457342 17 11 C 17 6.5715514 20.569602 3 25 3 z M 25 7 C 22.802706 7 21 8.8027056 21 11 C 21 13.197294 22.802706 15 25 15 C 27.197294 15 29 13.197294 29 11 C 29 8.8027056 27.197294 7 25 7 z M 25 9 C 26.116414 9 27 9.8835859 27 11 C 27 12.116414 26.116414 13 25 13 C 23.883586 13 23 12.116414 23 11 C 23 9.8835859 23.883586 9 25 9 z M 34.935547 12 L 36.515625 12 L 38.408203 14.822266 A 1.0001 1.0001 0 0 0 39.322266 15.261719 C 40.486781 15.165259 41.961177 14.677061 43.369141 14.365234 C 44.073123 14.209321 44.743215 14.099835 45.240234 14.085938 C 45.737253 14.072038 46.000011 14.190817 45.996094 14.1875 A 1.0001 1.0001 0 0 0 46.259766 14.347656 C 46.83863 14.58845 46.936763 14.707128 46.992188 15.462891 C 47.043168 16.158052 46.779156 17.48042 46.3125 19.158203 C 46.26003 19.183713 46.2379 19.196793 46.171875 19.226562 C 45.845052 19.373925 45.378361 19.562328 44.90625 19.755859 C 44.434139 19.949391 43.957739 20.146587 43.558594 20.341797 C 43.359021 20.439407 43.182208 20.532287 43.003906 20.654297 C 42.914756 20.715307 42.82339 20.781933 42.716797 20.894531 C 42.610204 21.00713 42.446175 21.174318 42.400391 21.546875 C 42.370181 21.78733 42.384112 21.850663 42.388672 22.082031 C 42.393272 22.315932 42.406047 22.621826 42.435547 22.982422 C 42.494557 23.703614 42.616761 24.642891 42.867188 25.644531 C 43.307497 27.405656 44.199437 29.391234 45.943359 30.570312 C 45.83148 30.82366 45.691829 31.124027 45.476562 31.527344 C 44.959854 32.495434 44.208714 33.783463 43.447266 35.099609 C 42.685817 36.415756 41.912971 37.759484 41.335938 38.888672 C 41.047419 39.453266 40.808047 39.961396 40.636719 40.412109 C 40.465391 40.862823 40.270637 41.170175 40.410156 41.830078 A 1.0001 1.0001 0 0 0 40.410156 41.832031 C 40.592313 42.690253 41.082836 43.323694 41.462891 43.919922 C 41.564708 44.079652 41.617013 44.172508 41.695312 44.300781 C 41.600532 44.388241 41.549569 44.428087 41.423828 44.541016 C 41.035633 44.889654 40.547074 45.318464 40.042969 45.722656 C 39.538864 46.126849 39.013707 46.505971 38.597656 46.742188 C 38.290217 46.916738 38.030501 46.951594 38.005859 46.978516 C 38.027501 46.975766 37.84585 46.914603 37.552734 46.771484 C 37.215395 46.606768 36.767051 46.375196 36.251953 46.103516 C 35.221757 45.560155 33.920706 44.855186 32.613281 44.171875 C 31.305857 43.488564 29.996289 42.828135 28.916016 42.357422 C 28.375879 42.122066 27.896281 41.93377 27.466797 41.810547 C 27.252055 41.748937 27.052214 41.702023 26.830078 41.681641 C 26.607942 41.661261 26.347826 41.632731 25.982422 41.830078 C 24.906211 42.411378 24.205666 43.454503 23.613281 44.416016 C 23.148904 45.169756 22.901089 45.691256 22.708984 46.068359 C 22.543969 46.047349 22.382713 46.029709 22.119141 45.974609 C 21.384256 45.820996 20.371376 45.553549 19.335938 45.283203 C 18.300497 45.012857 17.242157 44.739298 16.345703 44.570312 C 15.897476 44.485822 15.491501 44.424631 15.113281 44.410156 C 14.930272 44.403156 14.696715 44.539337 14.5 44.564453 C 14.4665 44.549533 14.323823 44.470393 14.148438 44.34375 C 13.790318 44.08515 13.292584 43.652595 12.8125 43.203125 C 11.999972 42.442411 11.451323 41.854044 11.232422 41.623047 C 11.282942 41.249733 11.390887 40.647672 11.341797 39.554688 C 11.310697 38.862153 11.220595 38.121881 10.962891 37.419922 C 10.705186 36.717963 10.232008 35.994949 9.4160156 35.650391 A 1.0001 1.0001 0 0 0 9.3203125 35.615234 C 8.4623672 35.351402 8.3553362 35.136372 8.2089844 34.658203 C 8.0626326 34.180035 8.0663406 33.352043 7.96875 32.341797 C 7.8711594 31.331551 7.6200134 30.114756 6.7910156 28.957031 C 6.0728113 27.954033 4.8456731 27.04914 3.15625 26.238281 C 3.231147 26.075107 3.2925555 25.927416 3.4335938 25.689453 C 3.8498954 24.987059 4.5055711 24.063092 5.1757812 23.146484 C 5.8459914 22.229877 6.5307427 21.319586 7.0410156 20.574219 C 7.2961521 20.201535 7.5069356 19.875796 7.6660156 19.566406 C 7.7455556 19.411711 7.8147305 19.266276 7.8671875 19.060547 C 7.8753775 19.028417 7.8268905 18.93881 7.8359375 18.898438 C 8.0000939 18.77769 8.3349341 18.590843 8.7441406 18.447266 C 9.5893393 18.150712 10.677776 18.060957 11.412109 18.425781 A 1.0001 1.0001 0 0 0 11.857422 18.529297 C 12.464049 18.529297 13.045606 18.152995 13.341797 17.705078 C 13.637988 17.257161 13.752654 16.760043 13.789062 16.232422 C 13.852533 15.312681 13.543465 14.238962 13.082031 13.167969 C 13.082031 12.690324 13.139611 12.391867 13.1875 12.265625 C 13.23539 12.139383 13.220887 12.173375 13.273438 12.144531 C 13.375542 12.088485 14.026733 12.006653 15.068359 12.001953 C 15.453967 15.262677 17.589102 19.034724 19.658203 22.261719 C 21.942724 25.824682 24.224609 28.630859 24.224609 28.630859 A 1.0001 1.0001 0 0 0 25.769531 28.636719 C 25.769531 28.636719 28.053656 25.878687 30.339844 22.337891 C 32.415375 19.123316 34.557345 15.329321 34.935547 12 z M 11.857422 16.529297 L 12.042969 16.574219 C 11.974294 16.567418 11.906347 16.561728 11.837891 16.537109 C 11.845791 16.535109 11.851142 16.529297 11.857422 16.529297 z M 7.84375 18.509766 C 7.846719 18.547161 7.8600847 18.590457 7.8574219 18.623047 C 7.8507019 18.705307 7.829807 18.720257 7.8125 18.769531 C 7.8248646 18.685968 7.8385287 18.599295 7.84375 18.509766 z M 17.5 27 A 2.5 2.5 0 0 0 15 29.5 A 2.5 2.5 0 0 0 17.5 32 A 2.5 2.5 0 0 0 20 29.5 A 2.5 2.5 0 0 0 17.5 27 z M 14.400391 44.548828 C 14.491861 44.555928 14.499051 44.567126 14.494141 44.566406 C 14.362357 44.583834 14.24373 44.566286 14.107422 44.599609 C 14.22861 44.561186 14.338944 44.544061 14.400391 44.548828 z M 13.863281 44.71875 C 13.857156 44.723353 13.851931 44.723606 13.845703 44.728516 L 13.845703 44.726562 C 13.851448 44.722042 13.857497 44.723056 13.863281 44.71875 z"/>
                        </svg>
                        <span style="margin-left: 4px;">Страна:</span>
                        <span style="margin-left: auto; margin-right: 0">@Model.User.Country</span>

                    </div>
                    @*<div class="profile_info_row">
                        <svg xmlns="http://www.w3.org/2000/svg" style="width: 24px;" viewBox="0 0 48 48">
                            <path d="M 27.560547 3 A 1.50015 1.50015 0 0 0 27.410156 3.0019531 A 1.50015 1.50015 0 0 0 26.728516 3.2128906 L 18.185547 8.3417969 C 16.832537 9.1535957 16 10.621033 16 12.199219 L 16 15.650391 L 15.271484 15.212891 A 1.50015 1.50015 0 0 0 14.410156 15.001953 A 1.50015 1.50015 0 0 0 13.728516 15.212891 L 5.1855469 20.341797 C 3.8325367 21.153596 3 22.621033 3 24.199219 L 3 43.5 A 1.50015 1.50015 0 1 0 6 43.5 L 6 24.199219 C 6 23.669887 6.2742573 23.186416 6.7285156 22.914062 L 14.5 18.25 L 22.271484 22.912109 C 22.725045 23.184045 23 23.669432 23 24.197266 L 23 30.5 L 23 43.5 A 1.50015 1.50015 0 1 0 26 43.5 L 26 30.5 C 26 29.101774 27.101774 28 28.5 28 L 37.253906 28 A 1.50015 1.50015 0 0 0 37.740234 28 L 40.5 28 C 41.898226 28 43 29.101774 43 30.5 L 43 43.5 A 1.50015 1.50015 0 1 0 46 43.5 L 46 30.5 C 46 27.480226 43.519774 25 40.5 25 L 39 25 L 39 12.197266 C 39 10.619099 38.168893 9.1519082 36.814453 8.3398438 L 28.271484 3.2128906 A 1.50015 1.50015 0 0 0 27.560547 3 z M 27.5 6.25 L 35.271484 10.912109 C 35.725045 11.184045 36 11.669432 36 12.197266 L 36 25 L 28.5 25 C 27.58663 25 26.76095 25.283492 26 25.683594 L 26 24.197266 C 26 22.619099 25.168893 21.151908 23.814453 20.339844 L 19 17.451172 L 19 12.199219 C 19 11.669887 19.274257 11.186417 19.728516 10.914062 L 27.5 6.25 z M 23 12 C 22.448 12 22 12.448 22 13 L 22 15 C 22 15.552 22.448 16 23 16 L 25 16 C 25.552 16 26 15.552 26 15 L 26 13 C 26 12.448 25.552 12 25 12 L 23 12 z M 30 12 C 29.448 12 29 12.448 29 13 L 29 15 C 29 15.552 29.448 16 30 16 L 32 16 C 32.552 16 33 15.552 33 15 L 33 13 C 33 12.448 32.552 12 32 12 L 30 12 z M 30 19 C 29.448 19 29 19.448 29 20 L 29 22 C 29 22.552 29.448 23 30 23 L 32 23 C 32.552 23 33 22.552 33 22 L 33 20 C 33 19.448 32.552 19 32 19 L 30 19 z M 10 24 C 9.448 24 9 24.448 9 25 L 9 27 C 9 27.552 9.448 28 10 28 L 12 28 C 12.552 28 13 27.552 13 27 L 13 25 C 13 24.448 12.552 24 12 24 L 10 24 z M 17 24 C 16.448 24 16 24.448 16 25 L 16 27 C 16 27.552 16.448 28 17 28 L 19 28 C 19.552 28 20 27.552 20 27 L 20 25 C 20 24.448 19.552 24 19 24 L 17 24 z M 10 31 C 9.448 31 9 31.448 9 32 L 9 34 C 9 34.552 9.448 35 10 35 L 12 35 C 12.552 35 13 34.552 13 34 L 13 32 C 13 31.448 12.552 31 12 31 L 10 31 z M 17 31 C 16.448 31 16 31.448 16 32 L 16 34 C 16 34.552 16.448 35 17 35 L 19 35 C 19.552 35 20 34.552 20 34 L 20 32 C 20 31.448 19.552 31 19 31 L 17 31 z M 30 31 C 29.448 31 29 31.448 29 32 L 29 34 C 29 34.552 29.448 35 30 35 L 32 35 C 32.552 35 33 34.552 33 34 L 33 32 C 33 31.448 32.552 31 32 31 L 30 31 z M 37 31 C 36.448 31 36 31.448 36 32 L 36 34 C 36 34.552 36.448 35 37 35 L 39 35 C 39.552 35 40 34.552 40 34 L 40 32 C 40 31.448 39.552 31 39 31 L 37 31 z M 10 38 C 9.448 38 9 38.448 9 39 L 9 41 C 9 41.552 9.448 42 10 42 L 12 42 C 12.552 42 13 41.552 13 41 L 13 39 C 13 38.448 12.552 38 12 38 L 10 38 z M 17 38 C 16.448 38 16 38.448 16 39 L 16 41 C 16 41.552 16.448 42 17 42 L 19 42 C 19.552 42 20 41.552 20 41 L 20 39 C 20 38.448 19.552 38 19 38 L 17 38 z M 30 38 C 29.448 38 29 38.448 29 39 L 29 41 C 29 41.552 29.448 42 30 42 L 32 42 C 32.552 42 33 41.552 33 41 L 33 39 C 33 38.448 32.552 38 32 38 L 30 38 z M 37 38 C 36.448 38 36 38.448 36 39 L 36 41 C 36 41.552 36.448 42 37 42 L 39 42 C 39.552 42 40 41.552 40 41 L 40 39 C 40 38.448 39.552 38 39 38 L 37 38 z"/>
                        </svg>
                        <span style="margin-left: 4px;">Город:</span>
                        <span style="margin-left: auto; margin-right: 0">@Model.User.c</span>
                    </div>*@
                </div>
            </div>

            @if (Model.IsOwner)
            {
                <div class="profile_mail">
                    Почта: @Model.User.MailAddress
                </div>
            }
        </div>
    </div>
</div>
<div id="profile_page" class="profile_page">
    <div id="profile_stats" class="profile_stats">
        @if (!Model.IsOwner)
        {
            <a href="/messenger/GetPrivateChatWithUser?id=@profileId">
                <div class="profile_btn">
                    Написать сообщение
                </div>
            </a>
            if (!Model.IsFriend)
            {
                if (Model.FriendViewModel == null)
                {

                    <div>
                        <form asp-action="SendFriendRequest">
                            <input type="hidden" name="targetUserId" value="@profileId" />
                            <input type="submit" value="Добавить в друзья" id="add_friend" class="profile_btn" style="width: 100%; border: none;" />
                        </form>
                    </div>

                }
                else
                {
                    if (Model.FriendViewModel.ApplicationState == ApplicationState.friend)
                    {
                        <div class="profile_btn pressed_btn">
                            В друзьях
                        </div>
                        <div>
                            <form asp-action="RemoveFriend">
                                <input type="hidden" name="targetUserId" value="@profileId" />
                                <input type="submit" value="Удалить из друзей" id="add_friend" class="profile_btn" style="width: 100%; border: none;" />
                            </form>
                        </div>
                    }
                    else if (Model.FriendViewModel.ApplicationState == ApplicationState.outgoing)
                    {
                        <div class="profile_btn pressed_btn">
                            Заявка отправлена
                        </div>
                    }
                    else
                    {
                        <a href="/friends/incoming">
                            <div class="profile_btn pressed_btn">
                                Хочет добавить вас в друзья
                            </div>
                        </a>
                    }
                }
            }
        }
        <a href="/friends?id=@profileId">
            <div class="profile_btn">
                Список друзей
            </div>
        </a>
        <div id="profile_friends" class="profile_friends">

        </div>
    </div>
    <div id="profile_posts" class="profile_posts">
        <div class="ui_posts_tools">
            <div style="position: absolute; top:-5px; height: calc(100% + 15px); width: 100%; background: white; z-index: 1; "></div>
            <div id="ui_post_search_block" class="ui_expanded">
                <svg id="search_icon" fill="#000000" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" width="20px" height="20px"><path d="M 21 3 C 11.601563 3 4 10.601563 4 20 C 4 29.398438 11.601563 37 21 37 C 24.355469 37 27.460938 36.015625 30.09375 34.34375 L 42.375 46.625 L 46.625 42.375 L 34.5 30.28125 C 36.679688 27.421875 38 23.878906 38 20 C 38 10.601563 30.398438 3 21 3 Z M 21 7 C 28.199219 7 34 12.800781 34 20 C 34 27.199219 28.199219 33 21 33 C 13.800781 33 8 27.199219 8 20 C 8 12.800781 13.800781 7 21 7 Z"></path></svg>
                <input id="ui_posts_search_input" class="ui_control_item" type="text" placeholder="Искать">
            </div>
            @if (Model.IsOwner)
            {
                <button id="open_post_sumbit_form" class="ui_control_item">
                    <svg fill="none" height="24" viewBox="0 0 24 24" style="margin: auto;" width="24" xmlns="http://www.w3.org/2000/svg"><g clip-rule="evenodd" fill="currentColor" fill-rule="evenodd"><path d="M9.56 4.1h3.54a.9.9 0 110 1.8H9.6c-1 0-1.69 0-2.23.04-.52.05-.82.13-1.05.24a2.6 2.6 0 00-1.14 1.14c-.11.23-.2.53-.24 1.05-.04.54-.04 1.24-.04 2.23v3.8c0 1 0 1.69.04 2.23.05.52.13.82.24 1.05.25.49.65.89 1.14 1.14.23.11.53.2 1.05.24.54.04 1.24.04 2.23.04h3.8c1 0 1.69 0 2.23-.04.52-.05.82-.13 1.05-.24a2.6 2.6 0 001.14-1.14c.11-.23.2-.53.24-1.05.04-.54.04-1.24.04-2.23v-3.5a.9.9 0 011.8 0v3.54c0 .95 0 1.71-.05 2.33a4.5 4.5 0 01-.43 1.73 4.4 4.4 0 01-1.92 1.92 4.5 4.5 0 01-1.73.43c-.62.05-1.38.05-2.33.05H9.56c-.95 0-1.71 0-2.33-.05a4.5 4.5 0 01-1.73-.43 4.4 4.4 0 01-1.92-1.92 4.51 4.51 0 01-.43-1.73c-.05-.62-.05-1.38-.05-2.33v-3.88c0-.95 0-1.71.05-2.33.05-.64.16-1.2.43-1.73A4.4 4.4 0 015.5 4.58a4.51 4.51 0 011.73-.43c.62-.05 1.38-.05 2.33-.05z"></path><path d="M19.12 3.33a1.1 1.1 0 111.56 1.55l-.35.35a.4.4 0 01-.57 0l-.99-.99a.4.4 0 010-.56zm-.6 2.57l-.42-.42c-.44-.44-.72-.42-1.13 0l-5.13 5.12c-1.95 1.96-3.19 3.89-2.76 4.32.43.43 2.36-.8 4.32-2.76l5.12-5.13c.44-.44.42-.72 0-1.13z"></path></g></svg>
                    <span class="tooltip">Добавить новую запись</span>
                </button>
            }
            @*<button id="submit_search" class="ui_control_item" onclick="BtnClick(this)">
                    <svg fill="#000000" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" width="20px" height="20px"><path d="M 21 3 C 11.601563 3 4 10.601563 4 20 C 4 29.398438 11.601563 37 21 37 C 24.355469 37 27.460938 36.015625 30.09375 34.34375 L 42.375 46.625 L 46.625 42.375 L 34.5 30.28125 C 36.679688 27.421875 38 23.878906 38 20 C 38 10.601563 30.398438 3 21 3 Z M 21 7 C 28.199219 7 34 12.800781 34 20 C 34 27.199219 28.199219 33 21 33 C 13.800781 33 8 27.199219 8 20 C 8 12.800781 13.800781 7 21 7 Z"></path></svg>
                </button>*@
        </div>
        <ul id="profile_posts_container" class="profile_posts">
            @{
                Html.RenderPartial("PostsView", Model.UserPosts);
            }
        </ul>
    </div>
</div>

<script src="~/Resources/lib/jquery/dist/jquery.min.js"></script>
<script>

    //------------------------
    //TODO: PLEASE CLEAN ME UP
    //------------------------

    function Ava() {
        $.ajax({
            url: "@Url.Action("UploadAvatarModal", "Modals")",
            type: "POST",
            success: function(view) {
                document.getElementById('page_modal_wrap').innerHTML = view;
                showModal('page_modal_wrap');
            }
        })
    }
    
    window.onscroll = function () { scrollFunction() };
    function scrollFunction() {
        return;
        let classList = new Set();
        classList.add(document.getElementById('user_profile'));
        classList.add(document.getElementById('profile_logo'));
        classList.add(document.getElementById('profile_img'));
        classList.add(document.getElementById('profile_info'));
        classList.add(document.getElementById('profile_stats'));
        classList.add(document.getElementById('profile_page'));
        classList.add(document.getElementById('profile_posts'));
        classList.add(document.getElementById('im_search_block'));

        if (document.body.scrollTop > 100 || document.documentElement.scrollTop > 5) {
            classList.forEach(element => {
                AddCollapsedClass(element);
            });

            let quickBtns = document.getElementById('profile_quick_btns');
            let hiddenClassName = quickBtns.classList[0] + "-collapsed";
            if (quickBtns.classList.contains(hiddenClassName))
                quickBtns.classList.remove(hiddenClassName);
            // setTimeout(() => {
            //     header.style.position="fixed";
            //     header.style.top="0";
            //     header.style.transition=".1s linear";
            // }, 0);

        } else {
            classList.forEach(element => {
                RemoveCollapsedClass(element);
            });
            let quickBtns = document.getElementById('profile_quick_btns');
            let hiddenClassName = quickBtns.classList[0] + "-collapsed";
            if (!quickBtns.classList.contains(hiddenClassName))
                quickBtns.classList.add(hiddenClassName);
        }
    }

    function AddCollapsedClass(item) {
        let className = item.classList[0];
        let collapsedClassName = className + "-collapsed";
        if (!item.classList.contains(collapsedClassName))
            item.classList.add(collapsedClassName);
    }
    function RemoveCollapsedClass(item) {
        let className = item.classList[0];
        let collapsedClassName = className + "-collapsed";
        if (item.classList.contains(collapsedClassName))
            item.classList.remove(collapsedClassName);
    }
    function ExpandBtn(btn) {
        let btnTitle = btn.children[1];
        let btnDescription = btn.children[1];
        let width = btnDescription.scrollWidth;
        btnTitle.style.width = btnDescription.scrollWidth + 'px';
        btnTitle.style.marginLeft = '5px';
    }
    function CollapseBtn(btn) {
        let btnTitle = btn.children[1];
        let btnDescription = btn.children[1];
        btnTitle.removeAttribute("style");
    }
    function ScrollUp() {
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    $(document).ready(function () {
        LoadPostsEvents();
        SearchPosts('ui_posts_search_input', profilePostsContainerId);
        OnCreatePostClick('open_post_sumbit_form');
    });
</script>